<f:view xmlns="http://www.w3.org/1999/xhtml"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:p="http://primefaces.org/ui">
	<ui:composition template="../../templates/control-panel.xhtml">
		<ui:define name="subtitle">#{msg.content}</ui:define>
		<ui:define name="main-content">
			<p:messages autoUpdate="true" globalOnly="true"/>
			<h:form id="button-form">
				<div class="btn-group">
					<p:commandButton value="#{msg['add-content']}" action="#{contentBean.initNewItem}" update="@form :data-form :detail-form" styleClass="btn btn-default" rendered="#{empty contentBean.item}"/>
					<p:commandButton value="#{msg['back-to-overview']}" action="#{contentBean.cancel}" update="@form :data-form :detail-form" styleClass="btn btn-default" rendered="#{!empty contentBean.item}"/>
				</div>
			</h:form>
			<h:form id="data-form">
				<h:panelGroup layout="block" rendered="#{empty contentBean.item}">
					<h3>#{msg['content-overview']}</h3>
					<p:dataTable value="#{contentBean.items}" var="item" tableStyleClass="table table-striped">
						<p:column headerText="#{msg['title']}" sortBy="#{item.title}">
							#{item.title}
						</p:column>
						<p:column headerText="#{msg['modified-date']}" sortBy="#{item.modifiedDate}">
							<h:outputText value="#{item.modifiedDate}">
								<f:convertDateTime pattern="dd/MM/yyyy HH:mm"/>
							</h:outputText>
						</p:column>
					</p:dataTable>
				</h:panelGroup>
			</h:form>
			<h:form id="detail-form">
				<h:panelGroup layout="block" rendered="#{!empty contentBean.item}">
					<h3>
						<h:outputText value="#{msg['edit-content-item']}" rendered="#{!empty contentBean.item.id}"/>
						<h:outputText value="#{msg['new-content-item']}" rendered="#{empty contentBean.item.id}"/>
					</h3>
					<div class="form-group content-title-field">
						<p:outputLabel for="title" value="#{msg['title']}" styleClass="control-label"/>
						<p:inputText id="title" value="#{contentBean.item.title}" styleClass="form-control" maxlength="255"/>
					</div>
					<div class="form-group">
						<p:outputLabel for="content" value="#{msg['content']}" styleClass="control-label"/>
						<p:editor id="content" value="#{contentBean.item.content}" controls="bold italic underline strikethrough subscript superscript style bullets numbering alignleft center alignright justify rule image link unlink cut copy paste pastetext source outdent indent"/>
					</div>
					<p:commandButton value="#{msg.save}" action="#{contentBean.save}" update="@form :button-form :data-form" styleClass="btn btn-primary"/>
					<p:commandButton value="#{msg.cancel}" action="#{contentBean.cancel}" update="@form :button-form :data-form" styleClass="btn btn-default"/>
				</h:panelGroup>
			</h:form>
		</ui:define>
	</ui:composition>
</f:view>